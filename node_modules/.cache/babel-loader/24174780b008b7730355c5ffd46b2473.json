{"ast":null,"code":"import { SEARCH_PROFILES_BEGIN, SEARCH_PROFILES_SUCCESS, SEARCH_PROFILES_FAILURE } from \"./types\";\nimport Parser from \"../utils/parsers/Parser\";\n\nvar Treasure = require('td-js-sdk');\n\nvar td = new Treasure({\n  database: 'c360',\n  writeKey: '1199/a820ff5a25e36501cc8651472f667d80231611ef',\n  cdpHost: 'cdp-staging.in.treasuredata.com',\n  host: 'in-staging.treasuredata.com'\n});\nexport const searchProfiles = email => {\n  console.log(email);\n  return dispatch => {\n    dispatch({\n      type: SEARCH_PROFILES_BEGIN,\n      payload: null\n    });\n    td.fetchUserSegments({\n      'audienceToken': 'cfe52bfb-9185-4b0c-8469-163939b07e39',\n      'version': '2',\n      keys: {\n        'email': email\n      },\n      successCallback,\n      errorCallback\n    });\n\n    var successCallback = function (key, values) {\n      var parser = new Parser();\n      console.log(\"test!\");\n      return dispatch => {\n        dispatch({\n          type: SEARCH_PROFILES_SUCCESS,\n          payload: parser.mapSearchFromArrays(key, values)\n        });\n      };\n    };\n\n    var errorCallback = function (error) {\n      console.log(error); //  dispatch({\n      //  type: SEARCH_PROFILES_FAILURE,\n      //   payload: error\n      // })\n    };\n  };\n};","map":{"version":3,"sources":["/Users/anandkumar/Documents/github/td-solution-engineering/c360-PlayStation/src/actions/searchProfilesActions.js"],"names":["SEARCH_PROFILES_BEGIN","SEARCH_PROFILES_SUCCESS","SEARCH_PROFILES_FAILURE","Parser","Treasure","require","td","database","writeKey","cdpHost","host","searchProfiles","email","console","log","dispatch","type","payload","fetchUserSegments","keys","successCallback","errorCallback","key","values","parser","mapSearchFromArrays","error"],"mappings":"AAAA,SACEA,qBADF,EAEEC,uBAFF,EAGEC,uBAHF,QAIO,SAJP;AAKA,OAAOC,MAAP,MAAmB,yBAAnB;;AAGA,IAAIC,QAAQ,GAAGC,OAAO,CAAC,WAAD,CAAtB;;AACA,IAAIC,EAAE,GAAG,IAAIF,QAAJ,CAAa;AACdG,EAAAA,QAAQ,EAAE,MADI;AAEdC,EAAAA,QAAQ,EAAE,+CAFI;AAGdC,EAAAA,OAAO,EAAE,iCAHK;AAIdC,EAAAA,IAAI,EAAE;AAJQ,CAAb,CAAT;AASA,OAAO,MAAMC,cAAc,GAAGC,KAAK,IAAK;AAEvCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,SAAQG,QAAD,IAAc;AACpBA,IAAAA,QAAQ,CAAE;AACVC,MAAAA,IAAI,EAAEhB,qBADI;AAEViB,MAAAA,OAAO,EAAE;AAFC,KAAF,CAAR;AAKEX,IAAAA,EAAE,CAACY,iBAAH,CAAqB;AAEvB,uBAAiB,sCAFM;AAGvB,iBAAW,GAHY;AAIvBC,MAAAA,IAAI,EAAE;AACJ,iBAASP;AADL,OAJiB;AAOnBQ,MAAAA,eAPmB;AAOFC,MAAAA;AAPE,KAArB;;AAUF,QAAID,eAAe,GAAG,UAAUE,GAAV,EAAcC,MAAd,EAAsB;AAC1C,UAAIC,MAAM,GAAG,IAAIrB,MAAJ,EAAb;AACFU,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,aAAQC,QAAD,IAAc;AACnBA,QAAAA,QAAQ,CAAC;AACPC,UAAAA,IAAI,EAAEf,uBADC;AAERgB,UAAAA,OAAO,EAAEO,MAAM,CAACC,mBAAP,CACRH,GADQ,EACJC,MADI;AAFD,SAAD,CAAR;AAOC,OARH;AASC,KAZD;;AAcE,QAAIF,aAAa,GAAG,UAASK,KAAT,EAAgB;AAClCb,MAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ,EADkC,CAEpC;AACE;AACD;AACA;AACA,KAND;AAOD,GArCF;AAsCA,CAzCM","sourcesContent":["import {\n  SEARCH_PROFILES_BEGIN,\n  SEARCH_PROFILES_SUCCESS,\n  SEARCH_PROFILES_FAILURE\n} from \"./types\";\nimport Parser from \"../utils/parsers/Parser\";\n\n\nvar Treasure = require('td-js-sdk')\nvar td = new Treasure({\n        database: 'c360',\n        writeKey: '1199/a820ff5a25e36501cc8651472f667d80231611ef',\n        cdpHost: 'cdp-staging.in.treasuredata.com',\n        host: 'in-staging.treasuredata.com'\n      });\n     \n        \n        \nexport const searchProfiles = email =>  {\n \n console.log(email);\n return (dispatch) => {\n  dispatch( {\n  type: SEARCH_PROFILES_BEGIN,\n  payload: null\n  })\n\n    td.fetchUserSegments({\n      \n  'audienceToken': 'cfe52bfb-9185-4b0c-8469-163939b07e39',\n  'version': '2',\n  keys: {\n    'email': email\n    }\n    , successCallback, errorCallback})\n  \n\n  var successCallback = function (key,values) {\n    var parser = new Parser();\n  console.log(\"test!\");\n  return (dispatch) => {\n    dispatch({\n      type: SEARCH_PROFILES_SUCCESS,\n     payload: parser.mapSearchFromArrays(\n      key,values\n      )\n    \n    });\n    };\n  }\n\n    var errorCallback = function(error) {\n      console.log(error);\n    //  dispatch({\n      //  type: SEARCH_PROFILES_FAILURE,\n     //   payload: error\n     // })\n    };\n  }\n}"]},"metadata":{},"sourceType":"module"}