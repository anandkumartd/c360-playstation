{"ast":null,"code":"import { FETCH_ATTRIBUTES_BEGIN, FETCH_ATTRIBUTES_SUCCESS, FETCH_ATTRIBUTES_FAILURE } from \"./types\";\nimport Parser from \"../utils/parsers/Parser\";\nimport axios from \"axios\";\nexport const fetchAttributes = customerID => dispatch => {\n  dispatch({\n    type: FETCH_ATTRIBUTES_BEGIN\n  });\n  var parser = new Parser(); // proxy url to be used for removing CORS errors\n\n  var proxyURL = \"https://fierce-ridge-46359.herokuapp.com/\";\n  axios.defaults.baseURL = proxyURL + \"https://api-staging-cdp.treasuredata.com\";\n  axios.defaults.headers.common[\"Authorization\"] = \"TD1 1199/2fcd68b917650f65455abe67f452fe753ea5b32b\";\n  axios.defaults.headers.common[\"content-type\"] = \"application/json;charset=utf-8\";\n  axios.get(\"/audiences/137520/customers/\" + customerID + \"/attributes\").then(response => {\n    // console.log(\"attr: \" + response.data);\n    dispatch({\n      type: FETCH_ATTRIBUTES_SUCCESS,\n      payload: parser.makeAttrFromArrays(response.data)\n    });\n  }).catch(error => dispatch({\n    type: FETCH_ATTRIBUTES_FAILURE,\n    payload: error\n  }));\n};","map":{"version":3,"sources":["/Users/anandkumar/Documents/github/td-solution-engineering/c360-PlayStation/src/actions/attributeActions.js"],"names":["FETCH_ATTRIBUTES_BEGIN","FETCH_ATTRIBUTES_SUCCESS","FETCH_ATTRIBUTES_FAILURE","Parser","axios","fetchAttributes","customerID","dispatch","type","parser","proxyURL","defaults","baseURL","headers","common","get","then","response","payload","makeAttrFromArrays","data","catch","error"],"mappings":"AAAA,SACEA,sBADF,EAEEC,wBAFF,EAGEC,wBAHF,QAIO,SAJP;AAKA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,eAAe,GAAGC,UAAU,IAAIC,QAAQ,IAAI;AACvDA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAER;AADC,GAAD,CAAR;AAIA,MAAIS,MAAM,GAAG,IAAIN,MAAJ,EAAb,CALuD,CAOvD;;AACD,MAAIO,QAAQ,GAAG,2CAAf;AACCN,EAAAA,KAAK,CAACO,QAAN,CAAeC,OAAf,GAAyBF,QAAQ,GAAC,0CAAlC;AACFN,EAAAA,KAAK,CAACO,QAAN,CAAeE,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IACA,mDADA;AAEAV,EAAAA,KAAK,CAACO,QAAN,CAAeE,OAAf,CAAuBC,MAAvB,CAA8B,cAA9B,IAAgD,gCAAhD;AACEV,EAAAA,KAAK,CAACW,GAAN,CAAU,iCAA+BT,UAA/B,GAA0C,aAApD,EAAmEU,IAAnE,CACEC,QAAQ,IAAI;AACZ;AACEV,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEP,wBADC;AAEPiB,MAAAA,OAAO,EAAET,MAAM,CAACU,kBAAP,CAA0BF,QAAQ,CAACG,IAAnC;AAFF,KAAD,CAAR;AAID,GAPH,EASDC,KATC,CASKC,KAAK,IACVf,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAEN,wBADC;AAEPgB,IAAAA,OAAO,EAAEI;AAFF,GAAD,CAVR;AAeD,CA5BM","sourcesContent":["import {\n  FETCH_ATTRIBUTES_BEGIN,\n  FETCH_ATTRIBUTES_SUCCESS,\n  FETCH_ATTRIBUTES_FAILURE\n} from \"./types\";\nimport Parser from \"../utils/parsers/Parser\";\nimport axios from \"axios\";\n\nexport const fetchAttributes = customerID => dispatch => {\n  dispatch({\n    type: FETCH_ATTRIBUTES_BEGIN\n  });\n\n  var parser = new Parser();\n\n  // proxy url to be used for removing CORS errors\n var proxyURL = \"https://fierce-ridge-46359.herokuapp.com/\"\n  axios.defaults.baseURL = proxyURL+\"https://api-staging-cdp.treasuredata.com\"; \naxios.defaults.headers.common[\"Authorization\"] =\n\"TD1 1199/2fcd68b917650f65455abe67f452fe753ea5b32b\";\naxios.defaults.headers.common[\"content-type\"] = \"application/json;charset=utf-8\";\n  axios.get(\"/audiences/137520/customers/\"+customerID+\"/attributes\").then(\n    response => {\n    // console.log(\"attr: \" + response.data);\n      dispatch({\n        type: FETCH_ATTRIBUTES_SUCCESS,\n        payload: parser.makeAttrFromArrays(response.data)\n      });\n    }\n  )\n.catch(error =>\n  dispatch({\n    type: FETCH_ATTRIBUTES_FAILURE,\n    payload: error\n  })\n  );\n};\n\n\n"]},"metadata":{},"sourceType":"module"}